# Unofficial musl-static binaries for haskell-ci

This repository mirrors [haskell-CI/haskell-ci](https://github.com/haskell-CI/haskell-ci) and publishes fully static Linux binaries (musl) for every upstream `master` commit. Not an official distribution.

- Upstream: [haskell-CI/haskell-ci](https://github.com/haskell-CI/haskell-ci)
- License: Same as upstream (see upstream repo)
- Maintainer: community mirror

> [!WARNING]
> The automation in this repo was largely generated by GPT-5.

## What you get

- A rolling "continuous" prerelease updated on every upstream `master` commit:
  - Assets: `haskell-ci-<sha>-musl-static.tar.gz` + `.sha256`
- Architectures:
  - x86_64 (musl, built in Alpine)
  - aarch64 (musl, built in Alpine)

No tag analysis or versioned releases are produced.

## Download example

```bash
BASE_URL="https://github.com/ulysses4ever/haskell-ci-binaries/releases/download/continuous"
ASSET="haskell-ci-x86_64-musl-static.tar.gz"

curl -L -o "$ASSET" "$BASE_URL/$ASSET"
curl -L -o "$ASSET.sha256" "$BASE_URL/$ASSET.sha256"
sha256sum -c "$ASSET.sha256"

tar -xzf "$ASSET"
./haskell-ci --version
```

## Notes

- Binaries are built inside Alpine using GHC and cabal-install, linked fully static with musl and `gmp`/`libffi` static libs.
- We verify "statically linked" with `file`. If that fails, the CI job fails.
- If upstream changes require specific GHC versions, we can pin Alpine versions or switch to a dedicated ghc-musl image.

## Disclaimer

- This is an unofficial mirror. Please report upstream bugs to upstream.
- Verify checksums before use.
